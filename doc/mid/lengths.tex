\ifundef{\charwidth}{
    \newlength{\charwidth}
    \setlength{\charwidth}{\widthof{\smaller\ttfamily a}}
}{}
